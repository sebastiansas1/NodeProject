include ./picture


mixin restaurants

  each restaurant in restaurants
    li.list-group-item
      .row
        .col-md-2.col-restaurant-picture
          //- Here Goes Picture of Restaurant
          img(src="/"+restaurant.image[0] height="70px" width="100%" alt="restaurant picture" style="margin-top: 15px")
        .col-md-10.col-restaurant-info
          //- Information About Restaurant
          a(href="/restaurants/"+restaurant._id)
            h4=restaurant.name
          p=restaurant.cuisine

mixin restaurant_info

  .row.restaurant-title
    .col-md-6.col-restaurant-title
      h1=restaurant.name
    .col-md-6.col-restaurant-title
      a.btn.btn-red.float-right.delete-restaurant(href='#' data-id=restaurant._id) Delete
      a.btn.btn-gray.float-right(href=restaurant._id + '/edit' ) Edit
      a.btn.btn-success.float-right(href=restaurant._id + "/upload" data-id=restaurant._id) Manage photos   
        i.fas.fa-camera-retro
     
           
  hr
  .row.restaurant-heading-1
    - var sum = 0;
    each review in reviews
     -sum=sum+review.stars;
    p=sum/reviews.length
    p / Rounded = 
    p=Math.round(sum/reviews.length, 10)
    -var n = 0;
    while n<Math.round(sum/reviews.length, 10)
      i.fas.fa-star.heading-1.icon
      - n++

    p.heading-1.underlined #{reviews.length} reviews 
    p.heading-1 |  #{restaurant.cuisine}
  .row.restaurant-heading-2
    i.fas.fa-map-marker-alt.heading-2.icon
    #address
      p.heading-2=restaurant.addressLine1 + ','
      p.heading-2=restaurant.city + ','
      p.heading-2=restaurant.country + ','
    p.heading-2=restaurant.postcode + ' | '
    i.fas.fa-phone-volume.heading-2.icon
    p.heading-2=restaurant.phoneNumber + ' | '
    i.fas.fa-laptop.heading-2.icon-web
    - if(restaurant.website)
      p.heading-2
        a.simple-link(href='http://' + restaurant.website.replace('http://',''))=restaurant.website.replace('http://','')

  +picture

  p.description= restaurant.description

  //- .row(style="width: 100%; display:flex;")
  //-   p here goes the map
  //-   #map(style="width: 100%; height: 500px;")
  //-   #pano(style= "width: 100%; height: 500px; ")
  p Map here 
  .row(style="width: 100%; display:flex;")
    #map(style="width: 100%; height: 500px;")
      

 
    
